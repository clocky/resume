{% extends "base.njk" %}

{% block title  %}
<!-- title -->
{% from "helpers/picture.njk" import picture %}

{% set prefix = "/img/hero/" + client | slug + "/" + title | slug %}

<div class="jumbotron-fluid parallax" style="background-image: url({{prefix}}_1600w.jpg);">
</div>

<div class="container">
  <div class="row mt-n5">
      <div class="col-10 col-md-8 col-lg-6 offset-lg-4 offset-md-1 py-3 pl-4 ml-n2 mt-n5 mb-4 bg-white">
          <h1 class="h1 text-info">{{ title }}</h1>
          <p class="h5 text-dark">{{ page.date | date("MMMM Y") }} â€¢ {{ client }}</p>
      </div>
  </div>
</div>

<!-- //title -->

<!-- headline -->

<div class="container">
  <div class="row">
      <div class="col-lg-8 offset-lg-2">
          <h2>{{ headline }}</h2>
      </div>
  </div>

  <!-- //headline -->

  <!-- lead -->

  <div class="row">
      <div class="col-lg-8 offset-lg-2">
          {% for paragraph in text %}
              {% if loop.first %}
                <p class="lead">{{ paragraph }}</p>
              {% else %}
                <p>{{ paragraph }}</p>
              {% endif %}
          {% endfor %}
      </div>
  </div>
  <!-- //lead -->

  <div class="row mt-4">
    {# Render one photo #}
    {% if media.length <= 1 %}
      <div class="col-lg-8 offset-lg-2 order-lg-2 order-1">
        {% for image in media %}
            <img class="d-block w-100" src="/img/projects/{{client | string | slug }}/{{image}}" />
        {% endfor %}
      </div>
    {% else %}

    {# Render carousel #}

    <div class="col-lg-8 offset-lg-2 order-lg-2 order-1 mb-4">
    <!--Carousel Wrapper-->
      <div id="{{title | slug }}" class="carousel slide carousel-fade carousel-thumbnails shadow-sm" data-ride="carousel">
        <!--Slides-->
        <div class="carousel-inner" role="listbox" aria-label="Screenshots of the {{ title }} project">
          {% for image in media %}
            <div class="carousel-item {% if loop.first %}active{% endif %}" role="option">
              <img class="d-block w-100" src="/img/projects/{{client | string | slug }}/{{ image }}" alt="Image {{loop.index}} of {{loop.length}} of the {{ title }} project">
            </div>
          {% endfor %}
        </div>

        <a class="carousel-control-prev" href="#{{title | slug }}" role="button" data-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="sr-only">Previous</span>
        </a>
        <a class="carousel-control-next" href="#{{title | slug }}" role="button" data-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="sr-only">Next</span>
        </a>

        <ol class="carousel-indicators">
          {% for image in media %}
            <li data-target="#{{title | slug }}" data-slide-to="{{loop.index0}}" {% if loop.first %}class="active"{% endif %}>
              <img class="d-block w-100 img-fluid" src="/img/projects/{{client | string | slug }}/{{ image }}" alt="Thumbnail {{loop.index}} of {{loop.length}}">
            </li>
          {% endfor %}
        </ol>
      </div> <!-- /carousel -->
    </div> <!-- /col -->
    {% endif %}
  </div>  <!-- /row -->
</div> <!-- /container -->
{% endblock %}

{% block footer %}
{% include '_collaborators.njk' %}

{% endblock %}
